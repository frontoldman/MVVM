<!DOCTYPE html>
<html>
<head>
    <title>MVVM</title>
    <meta charset="UTF-8">
    <style type="text/css">
    .red{
        color:red;
    }
    .green{
        color:green;
    }
    </style>
    <script type="text/javascript" src="../lib/load.js"></script>
    <script type="text/javascript">
		
		

        require('../src/mvvm',function(mvvm){

            var phone = ['iPhone','HTC','XIAOMI']

            window.o = {
                        firstName:'li',
                        lastName:'Ly</span>',
                        age:mvvm.observable(1111),
                        css:mvvm.observable('red'),
                        price:'<span class="red">$1111</span>',
                        married:mvvm.observable(true),
                        changeColor:mvvm.observable('red'),
                        url:mvvm.observable('http://www.baidu.com'),
                        people:[
                            {firstName:'lily',lastName:mvvm.observable('hahahahhehe')},
                            {firstName:'苍',lastName:'井空'}
                        ],
                        amount:mvvm.observable('true'),
                        info:{
                            country:'china',
                            howFar:mvvm.observable(1000)
                        },
                        phones:mvvm.observableArray(phone)
                    }

                mvvm.applyBindings(o,document.getElementById('content'))
			         var amount = true;
                	document.getElementById('myBtn').onclick = function(){
                	       o.age(this.value);
                           o.css('green');
                           o.married(false);
                           o.url('22');
                           o.changeColor('#0f0'); 
                           amount = !amount;
                           o.amount(amount);
                           o.info.howFar(20000);
                           o.phones.push('三星','西门子');
                	}

                    document.getElementById('delBtn').onclick = function(){
                        o.phones.pop();
                    }

                    document.getElementById('shiftBtn').onclick = function(){
                        o.phones.shift();
                    }

                    document.getElementById('unshiftBtn').onclick = function(){
                        o.phones.unshift('三星','西门子');
                    }

                    document.getElementById('spliceBtn').onclick = function(){
                        o.phones.splice(1,1,'微软');
                        //console.log(phone);
                    }

                    document.getElementById('reverseBtn').onclick = function(){
                        o.phones.reverse();
                    }
                    document.getElementById('sortBtn').onclick = function(){
                        o.phones.sort();

                    }
                    document.getElementById('indexOfBtn').onclick = function(){
                      console.log(o.phones.indexOf('HTC'))

                    }
	       })
       
    </script>
</head>
<body>
<p>First name: <strong data-bind="text:firstName ">todo</strong></p>
<div id="content">
<!-- 	<p>price: <strong data-bind="html:price">todo</strong></p>
	<p>First name: <strong data-bind="text:firstName">todo</strong></p>
    <p>Last name: <strong data-bind="css:css,text:lastName" class="hha">todo</strong></p>
	<p>Age: <strong data-bind="text:age ">todo</strong></p>
	<p>Age: <span data-bind="text:age ">todo</span></p>
    <p>sex: <span data-bind="visible:married">femail</span></p> -->
<!--     <p>style: <span data-bind="style:{color:changeColor,fontWeight:'bold',opacity:0.2}">
        哈哈，汉子也不乱码</span></p> -->
  <!--   <div data-bind="foreach:people">

        <p>
            <strong data-bind="text:firstName">asdasd</strong>:
        </p>
        <strong data-bind="text:firstName"></strong>:
        <span data-bind="text:lastName"></span>
        <span data-bind="html:$parent.price"></span>
        <br/>
    </div> -->
<!-- 
    <p>
        内部：<span data-bind="text:firstName"></span>
    </p> -->
  <!--   <p data-bind="if:amount">
        if:<span data-bind="text:price"></span>
    </p>
    <p data-bind="ifnot:amount">not</p> -->

<!--     <div data-bind="with:info">
            country:<span data-bind="text:country"></span><br/>
            howFar:<span data-bind="text:howFar"></span><br/>
            parent.name:<span data-bind="text:$parent.lastName"></span>
    </div> -->

    <div data-bind="foreach:phones">
        <span data-bind="text:$index"></span>:
        <span data-bind="text:$data"></span>
    </div>
    <div data-bind="foreach:phones">
        <span data-bind="text:$index"></span>:
        <span data-bind="text:$data"></span>
    </div>
  <!--   <p>attr: <span data-bind="attr:{name:'hello'}">属性</span></p>
    <p>attr: <a data-bind="attr:{href:url,name:firstName},text:url">属性</a></p> -->
    <p><input type="button" value="changeTo123" id="myBtn"/></p>
    <p><input type="button" value="pop" id="delBtn"/></p>
    <p><input type="button" value="shift" id="shiftBtn"/></p>
    <p><input type="button" value="unshift" id="unshiftBtn"/></p>
    <p><input type="button" value="splice" id="spliceBtn"/></p>
    <p><input type="button" value="reverse" id="reverseBtn"/></p>
    <p><input type="button" value="sort" id="sortBtn"/></p>
    <p><input type="button" value="indexOf" id="indexOfBtn"/></p>
</div>



</body>
</html>